webpackJsonp([1],{"/0P6":function(t,e){},"09yM":function(t,e){},"5HaW":function(t,e){},"9WSV":function(t,e){},EGXx:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={name:"App",data:function(){return{activeIndex:"1",activeIndex2:"1"}},methods:{handleSelect:function(t,e){console.log(t,e)}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex2,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[t._v("小黑板（BlackBoard）")]),t._v(" "),a("el-menu-item",{staticStyle:{float:"right"},attrs:{index:"2"}},[t._v("注册")]),t._v(" "),a("el-menu-item",{staticStyle:{float:"right"},attrs:{index:"3"}},[t._v("登陆")])],1)],1)],1)],1),t._v(" "),a("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")(s,i,!1,function(t){a("EGXx")},null,null).exports,l=a("/ocq"),o=a("mvHQ"),c=a.n(o),d=a("Muz9"),u=a.n(d);a("T9kX");Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t};var p={HOST:"http://blackboard.finspace.top"},g={components:{axios:u.a},mounted:function(){var t=this;u.a.request({url:p.HOST+"/building/index?exp="+c()({city:"雅安"}),method:"get"}).then(function(e){0===e.data.status&&(t.data.yaan=e.data.data)}),u.a.request({url:p.HOST+"/building/index?exp="+c()({city:"成都"}),method:"get"}).then(function(e){0===e.data.status&&(t.data.chengdu=e.data.data)}),u.a.request({url:p.HOST+"/building/index?exp="+c()({city:"都江堰"}),method:"get"}).then(function(e){0===e.data.status&&(t.data.dujiangyan=e.data.data)})},name:"Index",data:function(){return{data:{yaan:{},chengdu:{},dujiangyan:{}}}},methods:{To:function(t){this.$router.push({name:"room",query:{id:t}})}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-main",[a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"bg-grad-grey-reverse padding radius padding-left"},[t._v("雅安")])])],1),t._v(" "),a("el-row",{staticClass:"bg-grad-grey-reverse",staticStyle:{"flex-wrap":"wrap","justify-content":"space-between"},attrs:{type:"flex"}},t._l(t.data.yaan,function(e,n){return a("el-col",{key:n,staticStyle:{margin:"10px"},attrs:{span:5}},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"house",params:{id:e.id}}}},[a("el-card",{staticClass:"box-card bg-grad-grass",attrs:{"body-style":{padding:"10px","min-height":"200px",display:"flex",justifyContent:"center",alignItems:"center","background-color":""}}},[a("div",[t._v("\n                        "+t._s(e.buildingAlias)+"\n                    ")])])],1)],1)}),1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"bg-grad-grey padding radius padding-left"},[t._v("成都")])])],1),t._v(" "),a("el-row",{staticClass:"bg-grad-grey",staticStyle:{"flex-wrap":"wrap","justify-content":"space-between"},attrs:{type:"flex"}},t._l(t.data.chengdu,function(e,n){return a("el-col",{key:n,staticStyle:{margin:"10px"},attrs:{span:5}},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"house",params:{id:e.id}}}},[a("el-card",{staticClass:"box-card bg-grad-grass",attrs:{"body-style":{padding:"10px","min-height":"200px",display:"flex",justifyContent:"center",alignItems:"center","background-color":""}}},[a("div",[t._v("\n                        "+t._s(e.buildingAlias)+"\n                    ")])])],1)],1)}),1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"bg-grad-grey padding radius padding-left"},[t._v("都江堰")])])],1),t._v(" "),a("el-row",{staticClass:"bg-grad-grey",staticStyle:{"flex-wrap":"wrap","justify-content":"space-between"},attrs:{type:"flex"}},t._l(t.data.dujiangyan,function(e,n){return a("el-col",{key:n,staticStyle:{margin:"10px"},attrs:{span:5}},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"house",params:{id:e.id}}}},[a("el-card",{staticClass:"box-card bg-grad-grass",attrs:{"body-style":{padding:"10px","min-height":"200px",display:"flex",justifyContent:"center",alignItems:"center","background-color":""}}},[a("div",[t._v("\n                        "+t._s(e.buildingAlias)+"\n                    ")])])],1)],1)}),1)],1)},staticRenderFns:[]};var h=a("VU/8")(g,m,!1,function(t){a("9WSV")},"data-v-581dfb50",null).exports,f={name:"house",components:{axios:u.a,common:p},data:function(){return{items:[]}},mounted:function(){var t=this,e=this.$route.params.id;u.a.request({url:p.HOST+"/public/get-house-list?bid="+e,method:"get"}).then(function(e){t.items=e.data.data}).catch(function(t){})},methods:{}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-main",[a("el-row",{staticClass:"bg-grad-grey-reverse"},[a("el-col",{staticClass:"padding"},[t._v("\n            快速选择\n        ")])],1),t._v(" "),a("el-row",[a("el-col",{staticClass:"padding"},[a("el-button",{attrs:{type:"primary",round:""}},[t._v("\n                A211\n            ")])],1)],1),t._v(" "),a("el-row",{staticClass:"bg-grad-grey-reverse"},[a("el-col",{staticClass:"padding"},[t._v("\n            精确选择\n        ")])],1),t._v(" "),a("el-row",{staticStyle:{display:"flex","flex-wrap":"wrap","-ms-flex-wrap":"wrap","justify-content":"space-between"}},t._l(t.items,function(e,n){return a("el-col",{key:n,staticClass:"padding",attrs:{span:6}},[a("el-button",{staticClass:"margin",attrs:{type:"primary",round:""}},[t._v("\n                "+t._s(e.houseNum)+"\n            ")])],1)}),1)],1)},staticRenderFns:[]};var x=a("VU/8")(f,v,!1,function(t){a("/0P6")},"data-v-6edc02db",null).exports,y=(a("iwmH"),{name:"TimeTable",mounted:function(){this.info.id=this.$route.params.id,this.refreshTable()},data:function(){return{info:{id:0,houseNum:"A211"},status:{mark_dialog:!1},currentWeeks:10,data:{},api:{weekTimes:"",cid:"",usage:"",startTime:"",endTime:"",weekNum:6,range:""}}},methods:{msg:function(t){this.$alert('<p class="text-bold">开始时间：'+t.startTime+'</p><p class="text-bold">用于：'+t.usage+'</p><p class="text-bold">结束时间：'+t.endTime+"</p>","占用信息",{dangerouslyUseHTMLString:!0})},mark:function(t,e){this.status.mark_dialog=!0,this.api.weekNum=parseInt(t),this.api.range=new Date(2019,10,10,8+e.startHeight/60,e.startHeight%60/10).Format("hh:mm:ss")+" - "+new Date(2019,10,10,8+e.endHeight/60,e.endHeight%60/10).Format("hh:mm:ss")},refreshTable:function(){var t=this;u.a.request({url:p.HOST+"/public/get-time-table?cid="+this.info.id+"&weekTimes="+this.currentWeeks,method:"get"}).then(function(e){t.data=function(t,e){var a={1:[],2:[],3:[],4:[],5:[],6:[],7:[]};for(var n in t)switch(t[n].weekNum){case 0:a[1].push(t[n]);break;case 1:a[2].push(t[n]);break;case 2:a[3].push(t[n]);break;case 3:a[4].push(t[n]);break;case 4:a[5].push(t[n]);break;case 5:a[6].push(t[n]);break;case 6:a[7].push(t[n])}for(var s in a){var i=0,r=[];if(0!==a[s].length){for(var l in a[s]){var o=parseInt(a[s][l].startHeight),c=parseInt(a[s][l].endHeight);if(o>0&&o-i-1>0){var d={startHeight:i,endHeight:o,length:o-i,color:b()};r.push(d),r.push(a[s][l])}else r.push(a[s][l]);o,i=c}e-i+1>0&&r.push({startHeight:i,endHeight:e,length:e-i-r.length,color:b()}),a[s]=r}else r.push({startHeight:i,endHeight:e,length:e-i,color:b()}),a[s]=r}return console.log(a),a}(e.data.data,870)})},change_weekTimes:function(t){this.currentWeeks=t,this.refreshTable()}}});function b(){return["red","green","blue","orange","olive","cyan","purple","mauve","pink","brown","yellow"][parseInt(10*Math.random())]}var _={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"bg-grad-grey-reverse"},[a("el-main",[a("el-row",[a("el-col",{staticStyle:{display:"flex","justify-content":"center"}},[a("el-card",[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:200,"current-page":t.currentWeeks},on:{"current-change":t.change_weekTimes}})],1)],1),t._v(" "),a("el-col",{staticClass:"margin",staticStyle:{display:"flex","justify-content":"center"}},[a("el-card",[a("div",{staticStyle:{display:"flex","justify-content":"left","text-align":"center"}},[a("div",{staticStyle:{margin:"10px",width:"100px"}},[t._v(" ")]),t._v(" "),t._l(["一","二","三","四","五","六","日"],function(e){return a("div",{staticStyle:{margin:"10px",width:"100px"}},[t._v("\n                            周"+t._s(e)+"\n                        ")])})],2),t._v(" "),a("div",{staticStyle:{display:"flex","text-align":"center"}},[a("div",{staticClass:"bg-grad-grey-reverse radius",staticStyle:{display:"flex","flex-direction":"column",margin:"10px",width:"100px",height:"1500px"}},t._l(15,function(e){return a("div",{staticStyle:{height:"100px",margin:"1px"}},[t._v("\n                                "+t._s(e+7)+":00\n                            ")])}),0),t._v(" "),t._l(t.data,function(e,n){return a("div",{key:n,staticStyle:{margin:"10px",height:"1500px",width:"100px"}},t._l(e,function(e,s){return a("div",{key:s,staticClass:"radius",class:"bg-"+e.color,staticStyle:{margin:"1px",display:"flex","flex-direction":"column",overflow:"hidden"},style:{height:5*e.length/3+"px"},on:{click:function(a){void 0!==e.usage?t.msg(e):t.mark(n,e)}}},[a("span",{staticClass:"text-bold text-xxs"},[t._v("\n                                    "+t._s(8+parseInt(e.startHeight/60)+":"+parseInt(e.startHeight%60/10)+parseInt(e.startHeight%60%10))+"\n                                ")]),t._v(" "),a("span",{staticClass:"text-bold text-xxs"},[t._v(t._s(void 0!==e.usage?"占用":"空闲"))]),t._v(" "),a("span",{staticClass:"text-bold text-xxs"},[t._v("\n                                    "+t._s(8+parseInt(e.endHeight/60)+":"+parseInt(e.endHeight%60/10)+parseInt(e.endHeight%60%10))+"\n                                ")])])}),0)})],2)])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"开始预约"+t.info.houseNum,visible:t.status.mark_dialog},on:{"update:visible":function(e){return t.$set(t.status,"mark_dialog",e)}}},[a("el-form",{attrs:{"label-position":"right"},model:{value:t.api,callback:function(e){t.api=e},expression:"api"}},[a("el-form-item",{attrs:{label:"第"+t.currentWeeks+"周"}},[a("el-radio-group",{attrs:{disabled:!0},model:{value:t.api.weekNum,callback:function(e){t.$set(t.api,"weekNum",e)},expression:"api.weekNum"}},[a("el-radio",{attrs:{value:1,label:1}},[t._v("星期一")]),t._v(" "),a("el-radio",{attrs:{value:2,label:2}},[t._v("星期二")]),t._v(" "),a("el-radio",{attrs:{value:3,label:3}},[t._v("星期三")]),t._v(" "),a("el-radio",{attrs:{value:4,label:4}},[t._v("星期四")]),t._v(" "),a("el-radio",{attrs:{value:5,label:5}},[t._v("星期五")]),t._v(" "),a("el-radio",{attrs:{value:6,label:6}},[t._v("星期六")]),t._v(" "),a("el-radio",{attrs:{value:7,label:7}},[t._v("星期日")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-time-picker",{attrs:{"picker-options":{selectableRange:t.api.range},"value-format":"HH:mm:ss"},model:{value:t.api.startTime,callback:function(e){t.$set(t.api,"startTime",e)},expression:"api.startTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-time-picker",{attrs:{"picker-options":{selectableRange:t.api.range},"value-format":"HH:mm:ss"},model:{value:t.api.endTime,callback:function(e){t.$set(t.api,"endTime",e)},expression:"api.endTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"用于"}},[a("el-input",{staticStyle:{width:"50%","min-width":"200px"},model:{value:t.api.usage,callback:function(e){t.$set(t.api,"usage",e)},expression:"api.usage"}})],1)],1)],1)],1),t._v(" "),a("el-aside",{staticStyle:{padding:"20px"}},[a("el-row",[a("el-col",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("我预约的")])]),t._v(" "),t._l(4,function(e){return a("div",{key:e,staticClass:"text item"},[t._v("\n                        "+t._s("列表内容 "+e)+"\n                    ")])})],2)],1)],1)],1)],1)},staticRenderFns:[]};var k=a("VU/8")(y,_,!1,function(t){a("5HaW")},"data-v-d84407da",null).exports;n.default.use(l.a);var w=new l.a({routes:[{path:"/index",name:"index",component:h},{path:"/house/:id/",name:"house",component:x},{path:"/time/:id/",name:"TimeTable",component:k}]}),H=a("TcQY"),S=a.n(H),T=(a("09yM"),a("Iufj")),C=a.n(T);n.default.config.productionTip=!1,n.default.use(S.a),n.default.use(C.a,u.a),new n.default({el:"#app",router:w,components:{App:r},template:"<App/>"})},T9kX:function(t,e){},iwmH:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.87d6045588dd04d4354e.js.map